namespace = Plus

# Plus.1150 to Plus.1199

#######################################
# HRE / Carolingian Empire Events
# Written by Rylock
#######################################

# Upon a new Carolingian emperor ascending to the throne
character_event = {
	id = Plus.1150
	
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		   FROM = { 
				   OR = {
						 title = e_karling 
						 has_title_flag = "former_karling_empire"
						}
				  }
		   NOT = { has_global_flag = "verdun_failed" }
		   NOT = { has_character_flag = "karling_succession_setup" }
		  }
	
	
	immediate = {
			 set_character_flag = "karling_succession_setup"
		     if = {
			   limit = { has_global_flag = "treaty_of_verdun" }
		           character_event = { id = Plus.1151 days = 2 }
			   break = yes
			  }
		     if = {
			   limit = { 
				    NOR = { 
						   has_global_flag = "treaty_of_verdun" 
						   has_global_flag = "verdun_failed"
						  } 
			           }
					any_realm_lord = {
									character_event = { 
									id = rexteut.6002
									days = 7 
							       }
					    }
			  }
	            }
}

character_event = {
	id = Plus.1151
	
	hide_window = yes
	is_triggered_only = yes

	only_independent = yes

	trigger = {
		OR = {
			  has_landed_title = e_karling
			  primary_title = { has_title_flag = "former_karling_empire" }
			 }
	}
	
	immediate = {	
			 any_realm_lord = {
						   limit = { 
									verdun_vassal_trigger = yes 
									NOT = { character = ROOT }
								   }
						   set_defacto_liege = THIS
						   ROOT = {
								   make_tributary = {
													 who = PREV
													 tributary_type = carolingian_king
													}
								  }
						  }
		# Send an acceptance event to all duke & king vassals
		any_tributary = {
			limit = { is_tributary = { type = carolingian_king } }
			narrative_event = { id = Plus.1152 days = 3 }
		}		
		# Follow-up succeed-or-fail events (only one will be valid)
		narrative_event = { id = Plus.1161 days = 15 } # coronated by the Pope
		narrative_event = { id = Plus.1162 days = 15 } # empire dissolves
	}
}

# Event to Carolingian vassals -- do you accept the new emperor or declare independence?
narrative_event = {
	id = Plus.1152
	title = EVTNAME_Plus_1152
	desc = EVTDESCA_Plus_1152
	picture = GFX_evt_council
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	trigger = {
		is_tributary = {
						type = carolingian_king
						suzerain = FROM
					   }
	}
	
	option = {
		name = EVTOPTA_Plus_1152 # declare independence
		trigger = {
			in_revolt = no
			prisoner = no
			is_adult = yes
			NOT = { is_incapable = yes }
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				religion = FROM
				is_close_relative = FROM
			}
			modifier = {
				factor = 0.5
				OR = {
					dynasty = FROM
					is_allied_with = FROM
				}
			}
			modifier = {
				factor = 5
				#the emperor is not a Karling
				FROM = { NOT = { dynasty = 25061 } }
			}
			modifier = {
				factor = 3
				NOT = { religion = FROM }
			}
			modifier = {
				factor = 1.25
				NOT = { culture = FROM }
				NAND = { # German cultures are more accepting of each other
					FROM = { german_cultures_trigger = yes }
					german_cultures_trigger = yes
				}
			}
			modifier = {
				factor = 1.25
				NOT = { culture_group = FROM }
			}
			modifier = {
				factor = 10
				in_faction = faction_separatist
			}
			modifier = {
				factor = 0.5
				NOT = { year = 880 }
			}
			modifier = {
				factor = 1.25
				year = 900
			}
			modifier = {
				factor = 1.25
				year = 925
			}
			modifier = {
				factor = 1.25
				year = 950
			}
			modifier = {
				factor = 1.25
				year = 975
			}
			modifier = {
				factor = 1.25
				year = 1000
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = 0 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -25 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -50 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -75 } }
			}
			modifier = {
				factor = 1.5
				relative_power = { who = FROM power = 1.0 }
			}
			modifier = {
				factor = 2
				relative_power = { who = FROM power = 1.5 }
			}
			modifier = {
				factor = 2.5
				relative_power = { who = FROM power = 2.0 }
			}
			modifier = {
				factor = 1.5
				any_allied_character = {
					war = no
					independent = yes
					is_ruler = yes
					NOT = { same_realm = ROOT }
					higher_tier_than = DUKE
				}
			}
			modifier = {
				factor = 2
				trait = ambitious
			}
			modifier = {
				factor = 1.5
				trait = envious
			}
			modifier = {
				factor = 1.5
				trait = greedy
			}
			modifier = {
				factor = 10
				trait = lunatic
			}
			modifier = {
				factor = 0.1
				trait = possessed
				has_character_modifier = voice_of_jesus
			}
			modifier = {
				factor = 10
				trait = possessed
				has_character_modifier = voice_of_satan
			}
		}
		suzerain = { remove_tributary = ROOT }
		#pf_liege_change_effect = yes
		hidden_tooltip = {
			FROM = { letter_event = { id = Plus.1153 } }
			any_demesne_title = { clr_title_flag = "karling_king" }
		}
	}
	option = {
		name = EVTOPTB_Plus_1152 # remain loyal vassal
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				OR = {
					dynasty = FROM
					is_allied_with = FROM
				}
			}
			modifier = {
				factor = 3
				tier = DUKE
				NOT = { verdun_vassal_trigger = yes }
			}
			modifier = {
				factor = 2
				in_faction = faction_court
			}
			modifier = {
				factor = 2
				NOT = { year = 880 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 25 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 50 }
			}
			modifier = {
				factor = 2
				opinion = { who = FROM value = 75 }
			}
			modifier = {
				factor = 1.5
				NOT = { relative_power = { who = FROM power = 0.5 } }
			}
			modifier = {
				factor = 1.5
				NOT = { relative_power = { who = FROM power = 0.25 } }
			}
			modifier = {
				factor = 1.5
				NOT = { relative_power = { who = FROM power = 0.1 } }
			}
			modifier = {
				factor = 2
				trait = content
			}
			modifier = {
				factor = 1.5
				trait = slothful
			}
			modifier = {
				factor = 1.5
				trait = patient
			}
			modifier = {
				factor = 1.5
				trait = humble
			}
		}
	}
}

# Notification to the new Carolingian emperor of a declaration of independence
letter_event = {
	id = Plus.1153
	desc = EVTDESCA_Plus_1153
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_1153
		FROM = {
			any_demesne_title = {
				limit = {
					higher_tier_than = COUNT
					NOT = { ROOT = { has_claim = PREV } }
				}
				add_claim = ROOT
			}
			reverse_opinion = {
				modifier = opinion_traitor
				who = FROM
				multiplier = 2
				years = 25
			}
		}
	}
}

# Carolingian Emperor has a large enough empire
narrative_event = {
	id = Plus.1161
	title = EVTNAMEA_Plus_1161
	desc = EVTDESCA_Plus_1161
	picture = GFX_evt_cathedral
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	only_independent = yes
	
	trigger = {
		OR = {
			  has_landed_title = e_karling
			  primary_title = { has_title_flag = "former_karling_empire" }
			 }
		OR = {
			  any_realm_title = {
								 tier = count
								 count = 100
								}
			  any_tributary = {
					is_tributary = { type = carolingian_king }
					any_realm_title = {
									   tier = COUNT
									   count = 10
								      }
			}
			 }
		
	}
	
	option = {
		name = OK
		prestige = 100
		clr_character_flag = "karling_succession_setup"
	}
}

# Carolingian Emperor has a too-small domain, and the empire is dissolved
narrative_event = {
	id = Plus.1162
	title = EVTNAMEA_Plus_1162
	desc = EVTDESCA_Plus_1162
	picture = GFX_evt_cathedral
	border = GFX_event_narrative_frame_diplomacy

	is_triggered_only = yes

	only_independent = yes
	
	trigger = {
		OR = {
			  has_landed_title = e_karling
			  primary_title = { has_title_flag = "former_karling_empire" }
			 }
		NOR = {
			any_realm_title = {
				tier = count
				count = 100
			}
			any_tributary = {
				is_tributary = { type = carolingian_king }
				any_realm_title = {
								   tier = COUNT
								   count = 10
								  }
			}
		}
		NOT = {	event_target:threatened_title = { title = e_karling } }
	}
	
	immediate = {
			clr_character_flag = "karling_succession_setup"
			any_tributary = {
							 limit = { is_tributary = { type = carolingian_king } }
							 any_demesne_title = { clr_title_flag = "karling_king" }
							 ROOT = { remove_tributary = PREV }
							}
			any_playable_ruler = {
				limit = {
					NOT = { character = ROOT }
					ai = no
				}
				narrative_event = { id = Plus.1163 }
			}
	}
	
	option = {
		name = EVTOPTA_Plus_1162
		set_character_flag = former_carolingian_emperor
		if = {
			  limit = { has_landed_title = e_karling }
			  hidden_tooltip = {
								any_character = {
												 limit = { has_claim = e_karling }
												 if = {
													   limit = { has_weak_claim = e_karling }
													   add_weak_pressed_claim = k_italy
													   remove_claim = e_karling
													  }
												 if = {
													   limit = { has_strong_claim = e_karling }
													   add_pressed_claim = k_italy
													   remove_claim = e_karling
													  }
												}
								e_hre = {
										 copy_title_laws = e_karling
										 copy_title_history = e_karling
										}
							   }
			  e_karling = {
						   set_title_flag = carolingian_empire_fallen
						   destroy_landed_title = yes
						  }
			 }
		if = {
			  limit = { 
					   NOT = { has_landed_title = e_karling }
					   primary_title = { has_title_flag = "former_karling_empire" }
					  }
			  hidden_tooltip = {
						primary_title = {
								any_character = {
												 limit = { has_claim = PREV }
												 if = {
													   limit = { has_weak_claim = PREV }
													   add_weak_pressed_claim = k_italy
													   remove_claim = PREV
													  }
												 if = {
													   limit = { has_strong_claim = PREV }
													   add_pressed_claim = k_italy
													   remove_claim = PREV
													  }
												}
								e_hre = {
										 copy_title_laws = PREV
										 copy_title_history = PREV
										}
									   }
							   }
			  any_demesne_title = {
								   limit = { has_title_flag = "former_karling_empire" }
								   clr_title_flag = "former_karling_empire"
								   destroy_landed_title = yes
								  }
			  }
			  k_frisia = {
						  if = {
							    limit = {
								   OR = {
										 has_holder = no
										 holder_scope = { any_realm_title = { title = c_holland } }
										}
								  }
						  set_name = ""
						  adjective = ""
						 }
				   }
		if = {
			limit = { trait = crowned_by_pope }
			remove_trait = crowned_by_pope
		}
		if = {
			limit = { ai = no }
			chronicle = {
				entry = END_OF_CAROLINGIAN_EMPIRE
				portrait = [Root.GetID]
				picture = GFX_evt_cathedral
			}
		}
		hidden_tooltip = {
			activate_title = { title = e_karling status = no }
		}
	}
}

# Rulers informed of Carolingian Empire's demise
narrative_event = {
	id = Plus.1163
	title = EVTNAME_Plus_1163
	desc = EVTDESC_Plus_1163
	picture = GFX_evt_cathedral
	border = GFX_event_narrative_frame_diplomacy

	is_triggered_only = yes

	only_playable = yes

	option = {
		name = "EVTOPTA_Plus_1163"
		trigger = { religion_group = christian }
		if = {
			limit = { ai = no }
			chronicle = {
				entry = END_OF_CAROLINGIAN_EMPIRE_NEWS
				picture = GFX_evt_cathedral
			}
		}
	}
	option = {
		name = "EVTOPTB_Plus_1163"
		trigger = { NOT = { religion_group = christian } }
		if = {
			limit = { ai = no }
			chronicle = {
				entry = END_OF_CAROLINGIAN_EMPIRE_NEWS
				picture = GFX_evt_cathedral
			}
		}
	}
}

# Rulers informed of land given to Pope
character_event = {
	id = Plus.1164
	desc = EVTDESC_Plus_1164
	picture = GFX_evt_pope
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	immediate = {
		FROM = {
			rightful_religious_head_scope = {
				save_event_target_as = current_pope
			}
		}
	}
	
	option = {
		name = EVTOPTA_Plus_1164
		if = {
			limit = {
				any_demesne_title = {
					tier = COUNT
					NOR = {
						title = c_roma
						title = c_ravenna
						title = c_ferrara
						title = c_urbino
						title = c_perugia
						title = c_orvieto
					}
				}
			}
			any_demesne_title = {
				limit = {
					OR = {
						title = c_roma
						title = c_ravenna
						title = c_ferrara
						title = c_urbino
						title = c_perugia
						title = c_orvieto
					}
				}
				grant_title = event_target:current_pope
			}
			break = yes
		}
		if = {
			limit = { tier = KING }
			any_demesne_title = {
				limit = {
					location = { is_capital = no }
					OR = {
						title = c_roma
						title = c_ravenna
						title = c_ferrara
						title = c_urbino
						title = c_perugia
						title = c_orvieto
					}
				}
				grant_title = event_target:current_pope
			}
			break = yes
		}
		event_target:current_pope = { set_defacto_vassal = ROOT }
		pf_liege_change_effect = yes
	}
	
	after = {
		clear_event_target = current_pope
	}
}


### EVENTS TO FORM THE HRE AFTER CAROLINGIAN EMPIRE'S END

# Asking the pope for blessing to form the HRE
letter_event = {
	id = Plus.1155
	desc = "EVTDESC_Plus_1176"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_1176"	# Accept
		ai_chance = {
			factor = 75
			modifier = {
				factor = 1.2
				opinion = {
					who = FROM
					value = 20
				}
			}
			modifier = {
				factor = 1.2
				opinion = {
					who = FROM
					value = 40
				}
			}
			modifier = {
				factor = 1.2
				opinion = {
					who = FROM
					value = 60
				}
			}
			modifier = {
				factor = 1.2
				opinion = {
					who = FROM
					value = 80
				}
			}
			modifier = {
				factor = 1.2
				opinion = {
					who = FROM
					value = 100
				}
			}
			modifier = {
				factor = 2.0
				FROM = { trait = zealous }
			}
			modifier = {
				factor = 2.0
				FROM = { trait = crusader }
			}
			modifier = {
				factor = 1.2
				FROM = { piety = 400 }
			}
			modifier = {
				factor = 1.2
				FROM = { piety = 600 }
			}
			modifier = {
				factor = 1.2
				FROM = { piety = 800 }
			}
			modifier = {
				factor = 1.2
				FROM = { piety = 1000 }
			}
		}
		wealth = 100
		FROM = {
			character_event = { id = Plus.1157 days = 30 }
		}
	}
	option = {
		name = "EVTOPTB_Plus_1176"	# Reject
		ai_chance = {
			factor = 25
		        modifier = {
				    factor = 0.5
				    FROM = { has_character_flag = "is_otto" }
				   }
			modifier = {
				factor = 1.2
				NOT = {
					opinion = {
						who = FROM
						value = -100
					}
				}
			}
			modifier = {
				factor = 1.2
				NOT = {
					opinion = {
						who = FROM
						value = -80
					}
				}
			}
			modifier = {
				factor = 1.2
				NOT = {
					opinion = {
						who = FROM
						value = -60
					}
				}
			}
			modifier = {
				factor = 1.2
				NOT = {
					opinion = {
						who = FROM
						value = -40
					}
				}
			}
			modifier = {
				factor = 1.2
				NOT = {
					opinion = {
						who = FROM
						value = -20
					}
				}
			}
			modifier = {
				factor = 1.2
				NOT = {
					opinion = {
						who = FROM
						value = 0
					}
				}
			}
			modifier = {
				factor = 2.0
				FROM = {
					OR = {
						trait = lunatic
						trait = possessed
					}
				}
			}
			modifier = {
				factor = 2.0
				FROM = { is_kinslayer_trigger = yes }
			}
			modifier = {
				factor = 2.0
				FROM = { trait = cynical }
			}
			modifier = {
				factor = 0.5
				FROM = { ai = yes }
			}
		}
		FROM = {
			letter_event = { id = Plus.1156 days = 30 }
		}
		opinion = {
			modifier = coronation_rejected
			who = FROM
			years = 2
		}
	}
}

# The pope refuses the coronation
letter_event = {
	id = Plus.1156
	desc = "EVTDESC_Plus_1178"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_1178"	# Maybe we should try again later
		FROM = { clr_character_flag = approached_for_coronation }
		prestige = -50
		opinion = {
			modifier = coronation_rejected 
			who = FROM
			years = 2
		}
	}
}

# The pope agrees to the coronation -- the HRE is formed
character_event = {
	id = Plus.1157
	title = "EVTNAME_Plus_1157"
	desc = "EVTDESC_Plus_1157"
	picture = "GFX_evt_papal_crowning"

	is_triggered_only = yes

	immediate = { hre_culture_effect = yes }

	option = {
		name = "EVTOPTA_Plus_1181"	# This is the happiest day of my life
                rightful_religious_head_scope = { set_character_flag = "crowned_emperor" }
		e_hre = { 
				 set_title_flag = hre_formed 
				 if = {
					   limit = { ROOT = { religion = chalcedonian } }
					   set_pentarch_title = k_pentarch_rome
				      }
				}
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_FOUNDED_HRE
				picture = GFX_evt_coronation
				    }
		     }
		if = {
			limit = { trait = crowned }
			remove_trait = crowned
		}
		else_if = {
			limit = { trait = crowned_by_vip }
			remove_trait = crowned_by_vip
		}
		else_if = {
			limit = { trait = crowned_by_relhead }
			remove_trait = crowned_by_relhead
		}
		     }
		add_trait = crowned_by_pope
		give_nickname = nick_the_great
		prestige = 500
		opinion = { modifier = opinion_grateful who = FROM years = 100 }
		if = {
		      limit = {
			       check_variable = {
						 which = "french_vassal"
						 which = "german_vassal"
					        }
			       check_variable = {
						 which = "french_vassal"
						 which = "italian_vassal"
					        }
			      }
		      e_hre = { set_title_flag = "french_hre" }
		     }
		if = {
		      limit = {
			       check_variable = {
						 which = "italian_vassal"
						 which = "french_vassal"
					        }
			       check_variable = {
						 which = "italian_vassal"
						 which = "german_vassal"
					        }
			      }
		      e_hre = { set_title_flag = "italian_hre" }
		     }

		hidden_tooltip = {
				  set_variable = { which = french_vassal value = 0 }
				  set_variable = { which = german_vassal value = 0 }
				  set_variable = { which = italian_vassal value = 0 }
				 }
		
		# copy primary title laws but make HRE have feudal elective & no CA
		hidden_tooltip = {
			primary_title = {
				e_hre = {
					copy_title_laws = PREV
					add_law_w_cooldown = crown_authority_0
					add_law = succ_feudal_elective
					add_law = investiture_law_1
					set_title_flag = do_not_destroy
				}
			}
		}


		#Turn kingdom claims into HRE claims

			if = {
			      limit = {
				       has_landed_title = k_germany
				      }
			any_character = {
					limit = { has_claim = k_germany }
					if = {
						limit = { has_weak_claim = k_germany }
						add_weak_pressed_claim = e_hre
						remove_claim = k_germany
					     }
					if = {
						limit = { has_strong_claim = k_germany }
						add_pressed_claim = e_hre
						remove_claim = k_germany
					     }
					}
			     }
			if = {
			      limit = {
				       has_landed_title = k_france
				      }
			any_character = {
					limit = { has_claim = k_france }
					if = {
						limit = { has_weak_claim = k_france }
						add_weak_pressed_claim = e_hre
						remove_claim = k_france
					     }
					if = {
						limit = { has_strong_claim = k_france }
						add_pressed_claim = e_hre
						remove_claim = k_france
					     }
					}
			     }
			if = {
			      limit = {
				       has_landed_title = k_burgundy
				      }
			any_character = {
					limit = { has_claim = k_burgundy }
					if = {
						limit = { has_weak_claim = k_burgundy }
						add_weak_pressed_claim = e_hre
						remove_claim = k_burgundy
					     }
					if = {
						limit = { has_strong_claim = k_burgundy }
						add_pressed_claim = e_hre
						remove_claim = k_burgundy
					     }
					}
			     }
			if = {
			      limit = {
				       has_landed_title = k_italy
				      }
			any_character = {
					limit = { has_claim = k_italy }
					if = {
						limit = { has_weak_claim = k_italy }
						add_weak_pressed_claim = e_hre
						remove_claim = k_italy
					     }
					if = {
						limit = { has_strong_claim = k_italy }
						add_pressed_claim = e_hre
						remove_claim = k_italy
					     }
					}
			     }
			if = {
			      limit = {
				       has_landed_title = k_lotharingia
				      }
			any_character = {
					limit = { has_claim = k_lotharingia }
					if = {
						limit = { has_weak_claim = k_lotharingia }
						add_weak_pressed_claim = e_hre
						remove_claim = k_lotharingia
					     }
					if = {
						limit = { has_strong_claim = k_lotharingia }
						add_pressed_claim = e_hre
						remove_claim = k_lotharingia
					     }
					}
			     }
		
		# give the HRE title and destroy other imperial titles
		e_hre = { grant_title = ROOT }
		if = {
			  limit = { dynasty = 25061 }
			  e_hre = { set_title_flag = "karling_hre" }
			 }
		any_demesne_title = {
			limit = {
				tier = EMPEROR
				NOT = { title = e_hre }
			}
			hidden_tooltip = { any_direct_de_jure_vassal_title = { de_jure_liege = e_hre } }
			destroy_landed_title = THIS
		}
		
		hidden_tooltip = {
			any_title = {
						 limit = { has_title_flag = "former_karling_empire" }
						 clr_title_flag = "former_karling_empire"
						}
			if = {
				limit = { e_karling = { NOT = { has_title_flag = carolingian_empire_fallen } } }
				e_karling = { set_title_flag = carolingian_empire_fallen }
			}
			# reset East Francia to Germany
			k_germany = {
				set_name = ""
				adjective = ""
			}
			# rename West Francia if it hasn't been already
			if = {
				limit = { NOT = { has_global_flag = west_francia_renamed } }
				set_global_flag = west_francia_renamed
				k_france = {
					set_name = ""
					adjective = ""
					   }
			     }
			#Reset ERE to Byzantine Empire in case Charlemagne was never crowned
			e_byzantium = {
				set_name = ""
				adjective = ""
			}

			# stem duchy setup if Germany in the HRE
			if = {
			      limit = { has_landed_title = k_germany }
				  germany_stem_breakup_effect = yes
				 }

			}

			
		
			# send notification to potential HRE vassals
			any_independent_ruler = {
				limit = {
					religion = ROOT
					holy_order = no
					mercenary = no
					capital_scope = {
						OR = {
							empire = { title = e_hre }
							kingdom = { title = k_austria }
							kingdom = { title = k_bavaria }
							kingdom = { title = k_franconia }
							kingdom = { title = k_saxony }
							kingdom = { title = k_swabia }
							kingdom = { title = k_lotharingia }
							kingdom = { title = k_italy }
							kingdom = { title = k_frisia }
							kingdom = { title = k_burgundy }
							kingdom = { title = k_luxembourg }
							kingdom = { title = k_tuscany }
						}
					}
				}
				narrative_event = { id = Plus.1159 days = 10 }
			}
			# send notification to everyone else
			any_independent_ruler = {
				limit = {
					OR = {
						NOT = { religion = ROOT }
						holy_order = yes
						mercenary = yes
						capital_scope = {
							NOR = {
								empire = { title = e_hre }
								kingdom = { title = k_austria }
								kingdom = { title = k_bavaria }
								kingdom = { title = k_franconia }
								kingdom = { title = k_saxony }
								kingdom = { title = k_swabia }
								kingdom = { title = k_lotharingia }
								kingdom = { title = k_italy }
								kingdom = { title = k_frisia }
								kingdom = { title = k_burgundy }
								kingdom = { title = k_luxembourg }
								kingdom = { title = k_tuscany }
							}
						}
					}
				}
				narrative_event = { id = Plus.1158 days = 10 }
			}
		any_demesne_title = {
			limit = {
				tier = KING
			}
			if = {
				limit = {
					is_titular = no
				}
				de_jure_liege = e_hre
				set_title_flag = "union_with_hre"
			}
			destroy_landed_title = THIS
		}
		any_title = {
					 limit = { tier = KING }
					 if = {
						   limit = { ROOT = { completely_controls = PREV } }
						   de_jure_liege = e_hre
						  }
					 if = {
						   limit = { de_jure_liege = e_karling }
						   de_jure_liege = e_placeholder
						  }
					}

		# Byzantine Emperor will be very upset
		hidden_tooltip = {
			if = {
				limit = {
					e_byzantium = { has_holder = yes }
					NOT = { k_papal_state = { has_title_flag = schism_happened } }
					k_chalcedonian = { has_holder = no }
				}
				496 = { change_variable = { which = "schism_tracker" value = 1 } }
				rightful_religious_head_scope = {
					save_event_target_as = current_roman_pope
					e_byzantium = {
						holder_scope = {
							save_event_target_as = current_byzantine_emperor
							opinion = { who = ROOT modifier = opinion_unhappy months = 1200 }
							opinion = { who = PREVPREV modifier = opinion_unhappy multiplier = 2 months = 1200 }
							rightful_religious_head_scope = {
								opinion = { who = ROOT modifier = opinion_unhappy months = 1200 }
								opinion = { who = PREVPREVPREV modifier = opinion_unhappy multiplier = 2 months = 1200 }
							}
						}
					}
				}
				narrative_event = { id = Plus.2278 days = 3 }
			}
		}
	}
}

# Rulers not within the traditional HRE boundaries informed of the coronation
narrative_event = {
	id = Plus.1158
	title = "EVTNAME_Plus_1157"
	desc = "EVTDESC_CM_510"
	picture = "GFX_evt_papal_crowning"
	border = "GFX_event_narrative_frame_religion"

	is_triggered_only = yes

	option = {
		name = OK
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_FOUNDED_HRE_NEWS
				picture = GFX_evt_coronation
			}
		}
	}
}

# Rulers within the traditional HRE boundaries informed of the coronation
narrative_event = {
	id = Plus.1159
	title = "EVTNAME_Plus_1157"
	desc = "EVTDESC_CM_510"
	picture = "GFX_evt_papal_crowning"
	border = "GFX_event_narrative_frame_religion"

	is_triggered_only = yes
	only_rulers = yes

	option = {
		name = EVTOPTA_Plus_1159 # Offer to become his vassal
		trigger = {
			in_revolt = no
			lower_tier_than = FROM
			OR = {
				lower_tier_than = king
				has_landed_title = k_austria
				has_landed_title = k_bavaria
				has_landed_title = k_franconia
				has_landed_title = k_saxony
				has_landed_title = k_swabia
				has_landed_title = k_tuscany
				has_landed_title = k_luxembourg
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 3
				capital_scope = {
					empire = { title = e_hre }
				}
			}
			modifier = {
				factor = 0.5
				tier = KING
			}
			modifier = {
				factor = 0
				OR = {
					controls_religion = yes
					rightful_religious_head = ROOT
				}
			}
			modifier = {
				factor = 0
				num_of_king_titles = 2
			}
			modifier = {
				factor = 1.5
				tier = COUNT
			}
			modifier = {
				factor = 1.5
				trait = zealous
			}
			modifier = {
				factor = 1.5
				any_realm_province = {
					has_province_flag = contingent_territory
					any_neighbor_province = {
						owner = {
							OR = {
								character = FROM
								any_liege = { character = FROM }
							}
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				opinion = { who = FROM value = 25 }
			}
			modifier = {
				factor = 1.2
				opinion = { who = FROM value = 50 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 75 }
			}
			modifier = {
				factor = 1.2
				dynasty = FROM
			}
			modifier = {
				factor = 0.1
				OR = {
					reverse_has_truce = FROM
					has_non_aggression_pact_with = FROM
				}
			}
			modifier = {
				factor = 0
				trait = excommunicated
			}
			modifier = {
				factor = 1.5
				OR = {
					is_friend = FROM
					any_allied_character = { character = FROM }
				}
			}		
		}
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_FOUNDED_HRE_NEWS
				picture = GFX_evt_coronation
			}
		}
		FROM = {
			letter_event = { id = Plus.1160 tooltip = offer_to_become_vassal }
		}
	}
	option = {
		name = EVTOPTB_Plus_1159 # Wish him well
		ai_chance = {
			factor = 50
			modifier = {
				factor = 3
				tier = KING
			}
			modifier = {
				factor = 3
				capital_scope = {
					NOT = { empire = { title = e_hre } }
				}
			}
			modifier = {
				factor = 2
				NOT = {
					any_realm_province = {
						has_province_flag = contingent_territory
						any_neighbor_province = {
							owner = {
								OR = {
									character = FROM
									any_liege = { character = FROM }
								}
							}
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				NOT = { culture = FROM }
				NAND = { # German cultures are more accepting of each other
					FROM = { german_cultures_trigger = yes }
					german_cultures_trigger = yes
				}
			}
			modifier = {
				factor = 1.5
				trait = cynical
			}
			modifier = {
				factor = 1.5
				trait = ambitious
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = 0 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -25 } }
			}
			modifier = {
				factor = 2
				NOT = { opinion = { who = FROM value = -50 } }
			}
			modifier = {
				factor = 2
				NOT = { opinion = { who = FROM value = -75 } }
			}
			modifier = {
				factor = 0.5
				is_rival = FROM
			}
			modifier = {
				factor = 2
				realm_size = 50
			}
			modifier = {
				factor = 3
				realm_size = 75
			}
		}
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_FOUNDED_HRE_NEWS
				picture = GFX_evt_coronation
			}
		}	
	}
}

# The ruler offers to become the new emperor's vassal
letter_event = {
	id = Plus.1160
	desc = "EVTDESC_Plus_1160"
	
	is_triggered_only = yes
	only_rulers = yes
	
	option = {
		name = EVTOPTA_Plus_1160 # Accept
		FROM = {
			set_defacto_liege = ROOT
			pf_liege_change_effect = yes
			any_demesne_title = {
				limit = {
					tier = KING
					NOT = { de_jure_liege = e_hre }
				}
				de_jure_liege = e_hre
			}
		}
	}
	option = {
		name = EVTOPTB_Plus_1160 # Refuse
		trigger = { ai = no }
	}
}


### MAINTENANCE EVENTS

# Ruler has a stem duchy title but is not part of the HRE
character_event = {
	id = Plus.1170
	desc = EVTDESC_Plus_1170
	picture = GFX_evt_council

	is_triggered_only = yes
	
	only_rulers = yes
	
	trigger = {
		war = no
		OR = {
			has_landed_title = k_grand_saxony
			has_landed_title = k_grand_swabia
			has_landed_title = k_grand_franconia
			has_landed_title = k_grand_bavaria
			has_landed_title = k_grand_luxembourg
			has_landed_title = k_grand_tuscany
			has_landed_title = k_arch_austria
			has_landed_title = k_grand_naples
			has_landed_title = k_grand_lorraine
			has_landed_title = k_grand_holland
			has_landed_title = k_grand_aquitaine
			#has_landed_title = k_grand_burgundy #Need to suss out which kingdom to give
			has_landed_title = k_grand_normandy
			has_landed_title = k_grand_milan
			has_landed_title = k_grand_naples
		}
		NOR = {
			top_liege = { has_landed_title = e_hre }
			top_liege = { liege_before_war = { has_landed_title = e_hre } } 
			liege_before_war = { has_landed_title = e_hre }
		}
	}
	
	option = {
		name = EXCELLENT
		if = {
			hidden_tooltip = { activate_title = { title = k_saxony status = yes } }
			limit = { has_landed_title = k_grand_saxony }
			k_grand_saxony = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_saxony
				}
			}
			hidden_tooltip = {
				k_saxony = {
					grant_title = ROOT
					copy_title_laws = k_grand_saxony
					copy_title_history = k_grand_saxony
				}		  
				any_realm_character = {
					limit = { has_claim = k_grand_saxony }
					k_saxony = { add_pressed_claim = PREV }
					remove_claim = k_grand_saxony
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_grand_saxony }
						k_saxony = { add_pressed_claim = PREV }
						remove_claim = k_grand_saxony
					}
				}
				k_grand_saxony = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_saxony = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_grand_saxony = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_grand_saxony status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_grand_swabia }
			hidden_tooltip = { activate_title = { title = k_swabia status = yes } }
			k_grand_swabia = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_swabia
				}
			}
			hidden_tooltip = {
				k_swabia = {
					grant_title = ROOT
					copy_title_laws = k_grand_swabia
					copy_title_history = k_grand_swabia
				}		  
				any_realm_character = {
					limit = { has_claim = k_grand_swabia }
					k_swabia = { add_pressed_claim = PREV }
					remove_claim = k_grand_swabia
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_grand_swabia }
						k_swabia = { add_pressed_claim = PREV }
						remove_claim = k_grand_swabia
					}
				}
				k_grand_swabia = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_swabia = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_grand_swabia = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_grand_swabia status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_grand_franconia }
			hidden_tooltip = { activate_title = { title = k_franconia status = yes } }
			k_grand_franconia = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_franconia
				}
			}
			hidden_tooltip = {
				k_franconia = {
					grant_title = ROOT
					copy_title_laws = k_grand_franconia
					copy_title_history = k_grand_franconia
				}		  
				any_realm_character = {
					limit = { has_claim = k_grand_franconia }
					k_franconia = { add_pressed_claim = PREV }
					remove_claim = k_grand_franconia
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_grand_franconia }
						k_franconia = { add_pressed_claim = PREV }
						remove_claim = k_grand_franconia
					}
				}
				k_grand_franconia = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_franconia = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_grand_franconia = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_grand_franconia status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_grand_bavaria }
			hidden_tooltip = { activate_title = { title = k_bavaria status = yes } }
			k_grand_bavaria = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_bavaria
				}
			}
			hidden_tooltip = {
				k_bavaria = {
					grant_title = ROOT
					copy_title_laws = k_grand_bavaria
					copy_title_history = k_grand_bavaria
				}		  
				any_realm_character = {
					limit = { has_claim = k_grand_bavaria }
					k_bavaria = { add_pressed_claim = PREV }
					remove_claim = k_grand_bavaria
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_grand_bavaria }
						k_bavaria = { add_pressed_claim = PREV }
						remove_claim = k_grand_bavaria
					}
				}
				k_grand_bavaria = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_bavaria = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_grand_bavaria = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_grand_bavaria status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_grand_luxembourg }
			hidden_tooltip = { activate_title = { title = k_luxembourg status = yes } }
			k_grand_luxembourg = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_luxembourg
				}
			}
			hidden_tooltip = {
				k_luxembourg = {
					grant_title = ROOT
					copy_title_laws = k_grand_luxembourg
					copy_title_history = k_grand_luxembourg
				}		  
				any_realm_character = {
					limit = { has_claim = k_grand_luxembourg }
					k_luxembourg = { add_pressed_claim = PREV }
					remove_claim = k_grand_luxembourg
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_grand_luxembourg }
						k_luxembourg = { add_pressed_claim = PREV }
						remove_claim = k_grand_luxembourg
					}
				}
				k_grand_luxembourg = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_luxembourg = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_grand_luxembourg = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_grand_luxembourg status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_grand_tuscany }
			hidden_tooltip = { activate_title = { title = k_tuscany status = yes } }
			k_grand_tuscany = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_tuscany
				}
			}
			hidden_tooltip = {
				k_tuscany = {
					grant_title = ROOT
					copy_title_laws = k_grand_tuscany
					copy_title_history = k_grand_tuscany
				}		  
				any_realm_character = {
					limit = { has_claim = k_grand_tuscany }
					k_tuscany = { add_pressed_claim = PREV }
					remove_claim = k_grand_tuscany
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_grand_tuscany }
						k_tuscany = { add_pressed_claim = PREV }
						remove_claim = k_grand_tuscany
					}
				}
				k_grand_tuscany = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_tuscany = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_grand_tuscany = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_grand_tuscany status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_arch_austria }
			hidden_tooltip = { activate_title = { title = k_austria status = yes } }
			k_arch_austria = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_austria
				}
			}
			hidden_tooltip = {
				k_austria = {
					grant_title = ROOT
					copy_title_laws = k_arch_austria
					copy_title_history = k_arch_austria
				}		  
				any_realm_character = {
					limit = { has_claim = k_arch_austria }
					k_austria = { add_pressed_claim = PREV }
					remove_claim = k_arch_austria
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_arch_austria }
						k_austria = { add_pressed_claim = PREV }
						remove_claim = k_arch_austria
					}
				}
				k_arch_austria = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_austria = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_arch_austria = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_arch_austria status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_grand_naples }
			hidden_tooltip = { activate_title = { title = k_naples status = yes } }
			k_grand_naples = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_naples
				}
			}
			hidden_tooltip = {
				k_naples = {
					grant_title = ROOT
					copy_title_laws = k_grand_naples
					copy_title_history = k_grand_naples
				}		  
				any_realm_character = {
					limit = { has_claim = k_grand_naples }
					k_naples = { add_pressed_claim = PREV }
					remove_claim = k_grand_naples
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_grand_naples }
						k_naples = { add_pressed_claim = PREV }
						remove_claim = k_grand_naples
					}
				}
				k_grand_naples = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_naples = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_grand_naples = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_grand_naples status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_grand_lorraine }
			hidden_tooltip = { activate_title = { title = k_lotharingia status = yes } }
			k_grand_lorraine = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_lotharingia
				}
			}
			hidden_tooltip = {
				k_lotharingia = {
					grant_title = ROOT
					copy_title_laws = k_grand_lorraine
					copy_title_history = k_grand_lorraine
				}		  
				any_realm_character = {
					limit = { has_claim = k_grand_lorraine }
					k_lotharingia = { add_pressed_claim = PREV }
					remove_claim = k_grand_lorraine
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_grand_lorraine }
						k_lotharingia = { add_pressed_claim = PREV }
						remove_claim = k_grand_lorraine
					}
				}
				k_grand_lorraine = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_lotharingia = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_grand_lorraine = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_grand_lorraine status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_grand_holland }
			hidden_tooltip = { activate_title = { title = k_frisia status = yes } }
			k_grand_holland = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_frisia
				}
			}
			hidden_tooltip = {
				k_frisia = {
					grant_title = ROOT
					copy_title_laws = k_grand_holland
					copy_title_history = k_grand_holland
				}		  
				any_realm_character = {
					limit = { has_claim = k_grand_holland }
					k_frisia = { add_pressed_claim = PREV }
					remove_claim = k_grand_holland
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_grand_holland }
						k_frisia = { add_pressed_claim = PREV }
						remove_claim = k_grand_holland
					}
				}
				k_grand_holland = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_frisia = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_grand_holland = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_grand_holland status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_grand_aquitaine }
			hidden_tooltip = { activate_title = { title = k_aquitaine status = yes } }
			k_grand_aquitaine = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_aquitaine
				}
			}
			hidden_tooltip = {
				k_aquitaine = {
					grant_title = ROOT
					copy_title_laws = k_grand_aquitaine
					copy_title_history = k_grand_aquitaine
				}		  
				any_realm_character = {
					limit = { has_claim = k_grand_aquitaine }
					k_aquitaine = { add_pressed_claim = PREV }
					remove_claim = k_grand_aquitaine
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_grand_aquitaine }
						k_aquitaine = { add_pressed_claim = PREV }
						remove_claim = k_grand_aquitaine
					}
				}
				k_grand_aquitaine = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_aquitaine = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_grand_aquitaine = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_grand_aquitaine status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_grand_normandy }
			hidden_tooltip = { activate_title = { title = k_normandy status = yes } }
			k_grand_normandy = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_normandy
				}
			}
			hidden_tooltip = {
				k_normandy = {
					grant_title = ROOT
					copy_title_laws = k_grand_normandy
					copy_title_history = k_grand_normandy
				}		  
				any_realm_character = {
					limit = { has_claim = k_grand_normandy }
					k_normandy = { add_pressed_claim = PREV }
					remove_claim = k_grand_normandy
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_grand_normandy }
						k_normandy = { add_pressed_claim = PREV }
						remove_claim = k_grand_normandy
					}
				}
				k_grand_normandy = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_normandy = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_grand_normandy = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_grand_normandy status = no }
			}
		}
	}
}

# Ruler has a kingdom version of a stem duchy title but is part of the HRE
character_event = {
	id = Plus.1171
	desc = EVTDESC_Plus_1171
	picture = GFX_evt_council
	
	is_triggered_only = yes
	
	only_rulers = yes
	
	trigger = {
		war = no
		OR = {
			has_landed_title = k_saxony
			has_landed_title = k_swabia
			has_landed_title = k_franconia
			has_landed_title = k_bavaria
			has_landed_title = k_luxembourg
			has_landed_title = k_tuscany
			has_landed_title = k_austria
		}
		top_liege = { has_landed_title = e_hre }
	}
	
	option = {
		name = OK
		if = {
			limit = { has_landed_title = k_saxony }
			hidden_tooltip = { activate_title = { title = k_grand_saxony status = yes } }
			k_saxony = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_grand_saxony
				}
			}
			hidden_tooltip = {
				k_grand_saxony = {
					grant_title = ROOT
					copy_title_laws = k_saxony
					copy_title_history = k_saxony
					de_jure_liege = e_hre
				}		  
				any_realm_character = {
					limit = { has_claim = k_saxony }
					k_grand_saxony = { add_pressed_claim = PREV }
					remove_claim = k_saxony
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_saxony }
						k_grand_saxony = { add_pressed_claim = PREV }
						remove_claim = k_saxony
					}
				}
				k_saxony = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_grand_saxony = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_saxony = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_saxony status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_swabia }
			hidden_tooltip = { activate_title = { title = k_grand_swabia status = yes } }
			k_swabia = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_grand_swabia
				}
			}
			hidden_tooltip = {
				k_grand_swabia = {
					grant_title = ROOT
					copy_title_laws = k_swabia
					copy_title_history = k_swabia
					de_jure_liege = e_hre
				}		  
				any_realm_character = {
					limit = { has_claim = k_swabia }
					k_grand_swabia = { add_pressed_claim = PREV }
					remove_claim = k_swabia
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_swabia }
						k_grand_swabia = { add_pressed_claim = PREV }
						remove_claim = k_swabia
					}
				}
				k_swabia = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_grand_swabia = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_swabia = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_swabia status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_franconia }
			hidden_tooltip = { activate_title = { title = k_grand_franconia status = yes } }
			k_franconia = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_grand_franconia
				}
			}
			hidden_tooltip = {
				k_grand_franconia = {
					grant_title = ROOT
					copy_title_laws = k_franconia
					copy_title_history = k_franconia
					de_jure_liege = e_hre
				}		  
				any_realm_character = {
					limit = { has_claim = k_franconia }
					k_grand_franconia = { add_pressed_claim = PREV }
					remove_claim = k_franconia
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_franconia }
						k_grand_franconia = { add_pressed_claim = PREV }
						remove_claim = k_franconia
					}
				}
				k_franconia = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_grand_franconia = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_franconia = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_franconia status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_bavaria }
			hidden_tooltip = { activate_title = { title = k_grand_bavaria status = yes } }
			k_bavaria = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_grand_bavaria
				}
			}
			hidden_tooltip = {
				k_grand_bavaria = {
					grant_title = ROOT
					copy_title_laws = k_bavaria
					copy_title_history = k_bavaria
					de_jure_liege = e_hre
				}		  
				any_realm_character = {
					limit = { has_claim = k_bavaria }
					k_grand_bavaria = { add_pressed_claim = PREV }
					remove_claim = k_bavaria
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_bavaria }
						k_grand_bavaria = { add_pressed_claim = PREV }
						remove_claim = k_bavaria
					}
				}
				k_bavaria = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_grand_bavaria = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_bavaria = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_bavaria status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_luxembourg }
			hidden_tooltip = { activate_title = { title = k_grand_luxembourg status = yes } }
			k_luxembourg = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_grand_luxembourg
				}
			}
			hidden_tooltip = {
				k_grand_luxembourg = {
					grant_title = ROOT
					copy_title_laws = k_luxembourg
					copy_title_history = k_luxembourg
					de_jure_liege = e_hre
				}		  
				any_realm_character = {
					limit = { has_claim = k_luxembourg }
					k_grand_luxembourg = { add_pressed_claim = PREV }
					remove_claim = k_luxembourg
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_luxembourg }
						k_grand_luxembourg = { add_pressed_claim = PREV }
						remove_claim = k_luxembourg
					}
				}
				k_luxembourg = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_grand_luxembourg = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_luxembourg = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_luxembourg status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_tuscany }
			hidden_tooltip = { activate_title = { title = k_grand_tuscany status = yes } }
			k_tuscany = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_grand_tuscany
				}
			}
			hidden_tooltip = {
				k_grand_tuscany = {
					grant_title = ROOT
					copy_title_laws = k_tuscany
					copy_title_history = k_tuscany
					de_jure_liege = e_hre
				}		  
				any_realm_character = {
					limit = { has_claim = k_tuscany }
					k_grand_tuscany = { add_pressed_claim = PREV }
					remove_claim = k_tuscany
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_tuscany }
						k_grand_tuscany = { add_pressed_claim = PREV }
						remove_claim = k_tuscany
					}
				}
				k_tuscany = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_grand_tuscany = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_tuscany = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_tuscany status = no }
			}
		}
		if = {
			limit = { has_landed_title = k_austria }
			hidden_tooltip = { activate_title = { title = k_arch_austria status = yes } }
			k_austria = {
				any_direct_de_jure_vassal_title = {
					de_jure_liege = k_arch_austria
				}
			}
			hidden_tooltip = {
				k_arch_austria = {
					grant_title = ROOT
					copy_title_laws = k_austria
					copy_title_history = k_austria
					de_jure_liege = e_hre
				}		  
				any_realm_character = {
					limit = { has_claim = k_austria }
					k_arch_austria = { add_pressed_claim = PREV }
					remove_claim = k_austria
				}		
				any_playable_ruler = {
				  any_realm_character = {
						limit = { has_claim = k_austria }
						k_arch_austria = { add_pressed_claim = PREV }
						remove_claim = k_austria
					}
				}
				k_austria = {
					dejure_liege_title = {
						save_event_target_as = djliege_title
					}
				}
				k_arch_austria = {
					de_jure_liege = event_target:djliege_title
					clear_event_target = djliege_title
				}
				k_austria = {
					destroy_landed_title = yes
				}
				activate_title = { title = k_austria status = no }
			}
		}
	}
}

### HRE -- Coronation events witten by Van Diemen

# Coronation inform Emperor -- triggered by decision: coronation
character_event = {
	id = Plus.1175 #formerly Plus.525
	desc = "EVTDESC_Plus_1175"
	picture = "GFX_evt_pope"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_1175" # I will ask the pope
		hidden_tooltip = {
			rightful_religious_head_scope = {
				letter_event = { id = Plus.1176 }
			}
		}
	}
}

# Asking the pope for coronation
letter_event = {
	id = Plus.1176 #formerly 1000182428
	desc = "EVTDESC_Plus_1176"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_1176"	# Accept
		ai_chance = {
			factor = 60
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 20
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 40
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 60
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 80
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 100
					}
				}
			}
			modifier = {
				factor = 2.0
				FROM = { trait = zealous }
			}
			modifier = {
				factor = 2.0
				FROM = { trait = crusader }
			}
			modifier = {
				factor = 1.2
				FROM = { piety = 400 }
			}
			modifier = {
				factor = 1.2
				FROM = { piety = 600 }
			}
			modifier = {
				factor = 1.2
				FROM = { piety = 800 }
			}
			modifier = {
				factor = 1.2
				FROM = { piety = 1000 }
			}
		}
		wealth = 100
		FROM = {
			if = { 
				  limit = { 
						   OR = {
								 rex_teutonicorum_trigger = yes 
								 has_landed_title = e_karling
								}
						  } 
				  letter_event = { id = Plus.1177 }
				 }
			if = { 
				  limit = { 
						   NOT = { rex_teutonicorum_trigger = yes } 
						   NOT = { has_landed_title = e_karling }
						  }
				  letter_event = { id = rexteut.5031 }
				 }
		}
	}
	option = {
		name = "EVTOPTB_Plus_1176"	# Reject
		ai_chance = {
			factor = 40
		        modifier = {
				    factor = 0.1
				    has_global_flag = "investiture_imperial"
				   }
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -100
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -80
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -60
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -40
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -20
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = 0
						}
					}
				}
			}
			modifier = {
				factor = 2.0
				FROM = { trait = lunatic }
			}
			modifier = {
				factor = 2.0
				FROM = { is_kinslayer_trigger = yes }
			}
			modifier = {
				factor = 2.0
				FROM = { trait = cynical }
			}
		}
		FROM = {
			letter_event = { id = Plus.1178 }
		}
		ROOT = {
			opinion = {
				modifier = coronation_rejected
				who = FROM
				years = 10
			}
		}
	}
}
 
# Inform emperor that the pope agrees to the coronation & send out the invites to realm lords
letter_event = {
	id = Plus.1177 #formerly 1000182429
	desc = "EVTDESC_Plus_1177"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_1177"	# Excellent, now invite all the lords
		hidden_tooltip = {
			any_vassal = {
				limit = {
					is_adult = yes
					OR = {
						tier = COUNT
						tier = DUKE
						tier = KING
					}
					NOR = {
						trait = excommunicated
						is_incapable = yes
						is_heretic = yes
					}
					religion_group = christian
					prisoner = no
				}
				letter_event = { id = Plus.1179 } # Invitation to coronation
			}
			character_event = { id = Plus.1290 days = 59 } # Regnal name
			character_event = { id = Plus.1181 days = 60 } # Coronation begins
		}
	}
}

# Inform emperor that the pope rejects coronation
letter_event = {
	id = Plus.1178 #formerly 1000182430
	desc = { 
			trigger = { NOT = { primary_title = { has_title_flag = "former_hre_empire" } } }
			text = "EVTDESC_Plus_1178"
		   }
	desc = { 
			trigger = { primary_title = { has_title_flag = "former_hre_empire" } }
			text = "EVTDESCB_Plus_1178"
		   }

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_1178"	# Maybe we should try again later
		clr_character_flag = wants_coronation
		prestige = -50
		ROOT = {
			opinion = {
				modifier = coronation_rejected 
				who = FROM
				years = 2
			}
		}
	}
}

# Coronation invites to realm lords
letter_event = {
	id = Plus.1179 #formerly 1000182431
	desc = "EVTDESC_Plus_1179"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_1179"	# I will attend the ceremony
		ai_chance = {
			factor = 80
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 20
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 40
					}
				}
			}
			modifier = {
				factor = 1.6
				ROOT = {
					opinion = {
						who = FROM
						value = 60
					}
				}
			}
			modifier = {
				factor = 2.0
				ROOT = {
					opinion = {
						who = FROM
						value = 80
					}
				}
			}
			modifier = {
				factor = 2.0
				ROOT = {
					opinion = {
						who = FROM
						value = 100
					}
				}
			}
		}
		set_character_flag = attend_coronation
	}
	option = {
		name = "EVTOPTB_Plus_1179"	# I have more important things to do
		ai_chance = {
			factor = 20
			modifier = {
				factor = 4.0
				ROOT = {
					has_opinion_modifier = {
						who = FROM
						modifier = attempted_murder
					}
				}
			}
			modifier = {
				factor = 2.0
				ROOT = {
					has_opinion_modifier = {
						who = FROM
						modifier = attempted_murder_of_spouse
					}
				}
			}
			modifier = {
				factor = 4.0
				ROOT = {
					has_opinion_modifier = {
						who = FROM
						modifier = attempted_murder_of_child
					}
				}
			}
			modifier = {
				factor = 1.5
				ROOT = {
					has_opinion_modifier = {
						who = FROM
						modifier = attempted_murder_of_vassal
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -20
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -40
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -60
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -80
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -99
						}
					}
				}
			}
		}
		FROM = {
			letter_event = { id = Plus.1180 }
		}
	}
}

# Inform Emperor of NOT attending ceremony
letter_event = {
	id = Plus.1180 #formerly 1000182432
	desc = "EVTDESC_Plus_1180"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_1180"	# I have no words for such dishonour
		ROOT = {
			opinion = {
				modifier = insulted
				who = FROM
				months = 60
			}
		}
	}
}

# Emperor crowned by pope
character_event = {
	id = Plus.1181 #formerly 1000182433
	title = "EVTNAME_Plus_1181"
	desc = "EVTDESC_Plus_1181"
	picture = "GFX_evt_papal_crowning"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_1181"	# This is the happiest day of my life
		add_trait = crowned_by_pope
		rightful_religious_head_scope = { set_character_flag = "crowned_emperor" }
		prestige = 500
		ROOT = {
			custom_tooltip = { text = IMPERIAL_DECADENCE_MINUS_2 }
			hidden_tooltip = {
				primary_title = { change_variable = { which = "imperial_decadence" value = -2 } }
				character_event = { id = Plus.1852 } # change the decadence modifier
			}
		}
		if = {
			limit = { any_vassal = { leads_faction = faction_court } }
			custom_tooltip = { text = COURTFACTIONMOODPLUS }
			hidden_tooltip = {
				random_vassal = { limit = { leads_faction = faction_court } set_variable = { which = "faction_mood_increase" value = 2 } }
			}
		}
		if = {
			limit = { any_vassal = { leads_faction = faction_tradition } }
			custom_tooltip = { text = TRADITIONFACTIONMOODPLUS }
			hidden_tooltip = {
				random_vassal = { limit = { leads_faction = faction_tradition } set_variable = { which = "faction_mood_increase" value = 4 } }
			}
		}
		hidden_tooltip = { character_event = { id = PlusFaction.200 days = 1 } }
		hidden_tooltip = {
			rightful_religious_head_scope = {
				reverse_opinion = {
					modifier = opinion_grateful
					who = ROOT
					months = 60
				}
			}
			any_vassal = {
				limit = {
					has_character_flag = attend_coronation
				}
				character_event = { id = Plus.1182 }
				opinion = {
					modifier = opinion_attended_ceremony
					who = ROOT
					years = 5
				}
			}
			any_vassal = {
				limit = {
					NOT = { has_character_flag = attend_coronation }
				}
				letter_event = { id = Plus.1183 }
			}
			clr_character_flag = wants_coronation
			if = {
				limit = { has_landed_title = e_hre }
				narrative_event = { id = Plus.1184 }
			}
		}
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_PAPAL_CORONATION
				portrait = [Root.GetID]
				picture = GFX_evt_papal_crowning
			}
		}
	}
}

# Emperor crowned by pope - attended realm lords informed of ceremony
character_event = {
	id = Plus.1182 #formerly 1000182434
	desc = "EVTDESC_Plus_1182"
	picture = "GFX_evt_papal_crowning"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_1182"	# The coronation was beautiful
		prestige = 20
		clr_character_flag = attend_coronation
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_PAPAL_CORONATION_NEWS
				portrait = [From.GetID]
				picture = GFX_evt_papal_crowning
			}
		}
	}
}

# Emperor crowned by pope - non-attending realm lords informed of ceremony
letter_event = {
	id = Plus.1183 #formerly 1000182435
	desc = "EVTDESC_Plus_1183"

	is_triggered_only = yes

	option = {
		name = "OK"	# Ok
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_PAPAL_CORONATION_NEWS
				portrait = [From.GetID]
				picture = GFX_evt_papal_crowning
			}
		}
	}
}

# HRE Coronation narrative event
narrative_event = {
	id = Plus.1184 #formerly 1000182436
	title = "EVTNAME_Plus_1184"
	desc = "EVTDESC_Plus_1184"
	picture = "GFX_evt_papal_crowning"
	border = "GFX_event_narrative_frame_religion"

	major = yes

	is_triggered_only = yes

	option = {
		name = "OK"
	}
}


### AQUITAINE ABSORBED INTO WEST FRANCIA
narrative_event = {
	id = Plus.1185
	title = "EVTNAME_Plus_1185"
	desc = "EVTDESC_Plus_1185"
	picture = "GFX_evt_holy_emperor"
	
	major = yes
	
	only_playable = yes
	war = no
	
	trigger = {
		year = 869
		has_landed_title = k_aquitaine
		has_landed_title = k_france
		k_aquitaine = { is_titular = no }
		k_france = { is_primary_holder_title = yes }
		NOR = {
			has_global_flag = west_francia_united
			has_character_flag = is_charlemagne # Probably redundant with the year trigger but better safe than sorry
		}
	}
	
	major_trigger = {
		ai = no
		OR = {
			culture = occitan
			culture = frankish
			capital_scope = { empire = { title = e_karling } }
			capital_scope = { empire = { title = e_hre } }
		}
	}

	mean_time_to_happen = {
		months = 2
		modifier = {
			factor = 10
			k_france = { has_law = succ_gavelkind }
			any_child = {
				NOT = { is_primary_heir = ROOT }
				NOT = { trait = bastard }
				is_female = no
			}
		}
		modifier = {
			factor = 0.5
			trait = ambitious
		}
		modifier = {
			factor = 0.5
			trait = proud
		}
	}
	
	immediate = {
		set_global_flag = west_francia_united
		k_aquitaine = {
			any_direct_de_jure_vassal_title = {
				de_jure_liege = k_france
			}
			destroy_landed_title = THIS
		}     
        hidden_tooltip = {
			any_character = {
				limit = { has_claim = k_aquitaine }
				if = {
					limit = {
						has_weak_claim = k_aquitaine
						NOT = { has_weak_claim = k_france }
						NOT = { has_strong_claim = k_france }
					}
					add_weak_pressed_claim = k_france
					remove_claim = k_aquitaine
				}
				if = {
					limit = {
						has_strong_claim = k_aquitaine
						NOT = { has_strong_claim = k_france }
					}
					add_pressed_claim = k_france
					remove_claim = k_aquitaine
				}
			}
		}
	}
	
	option = {
		trigger = { has_landed_title = k_france }
		name = EXCELLENT
	}
	option = {
		trigger = { NOT = { has_landed_title = k_france } }
		name = OK
	}
}


### TREATY OF MEERSSEN EVENTS

# The Carolongian Emperor inherits both Lotharingia and Burgundy
character_event = {
	id = Plus.1186
	hide_window = yes
	
	is_triggered_only = yes
	
	only_independent = yes
	
	trigger = {
		has_global_flag = "treaty_of_verdun"
		has_landed_title = e_karling
		has_landed_title = k_lotharingia
		has_landed_title = k_burgundy
		num_of_king_titles = 3
		any_playable_ruler = {
			OR = {
				liege = { character = ROOT }
				suzerain = { character = ROOT }
			}
			has_landed_title = k_germany
			NOT = { has_landed_title = k_france }
			OR = {
				dynasty = ROOT
				is_close_relative = ROOT
			}
		}
		any_playable_ruler = {
			OR = {
				liege = { character = ROOT }
				suzerain = { character = ROOT }
			}
			has_landed_title = k_france
			NOT = { has_landed_title = k_germany }
			OR = {
				dynasty = ROOT
				is_close_relative = ROOT
			}
		}
		NOR = {
			has_character_flag = faction_court_war
			has_character_flag = faction_prosperity_war
			has_character_flag = faction_glory_war
			has_character_flag = faction_tradition_war
			has_character_flag = faction_separatist_war
			has_character_flag = faction_pretender_war
			has_character_flag = faction_religious_war
			has_character_flag = faction_succession_war
			has_global_flag = treaty_of_meerssen
		}
	}
	
	immediate = {
		set_global_flag = treaty_of_meerssen
		character_event = {
						   id = rexteut.6019
						   days = 5
						  }
	}
	
	
}

# Rulers informed of the Treaty of Meerssen
character_event = {
	id = Plus.1187
	title = "EVTNAME_Plus_1187"
	desc = "EVTDESC_Plus_1187"
	picture = "GFX_evt_conclave"
	
	is_triggered_only = yes
	
	option = {
		trigger = { has_landed_title = k_germany }
		name = "EXCELLENT"
		prestige = 100
		opinion = {
			who = FROM
			modifier = opinion_pleased
			multiplier = 2
			months = 60
			}
		meerssen_germany_effect = yes
		any_character = {
						 limit = { has_landed_title = d_alsace }
						 any_character = {
										  limit = {
												   tier = COUNT
												   liege = { character = ROOT }
												   capital_scope = { duchy = { title = d_alsace } }
												  }
										  set_defacto_liege = PREV
										 }
						}
	}
	option = {
		trigger = { has_landed_title = k_france }
		name = "EXCELLENT"
		prestige = 100
		opinion = {
			who = FROM
			modifier = opinion_pleased
			multiplier = 2
			months = 60
			}
		meerssen_france_effect = yes
	}
}

# Rulers informed that the emperor has refused the treaty
character_event = {
	id = Plus.1188
	desc = "EVTDESC_Plus_1188"
	picture = "GFX_evt_council_quarrelling"
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA_Plus_1188" #This is not worth fighting over
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				war = yes
			}
			modifier = {
				factor = 2
				trait = content
			}
			modifier = {
				factor = 2
				trait = humble
			}
		}
		prestige = -100
		any_claim = {
			limit = {
				OR = {
					title = k_lotharingia
					title = k_burgundy
				}
			}
			remove_claim = ROOT
		}
	}
	option = {
		name = "EVTOPTB_Plus_1188" #This cannot be allowed to stand!
		ai_chance = {
			factor = 75
			modifier = {
				factor = 2
				trait = ambitious
			}
			modifier = {
				factor = 2
				trait = proud
			}
		}
		opinion = {
			who = FROM
			modifier = opinion_outraged
			months = 60
		}
		add_pressed_claim = k_lotharingia
		add_pressed_claim = k_burgundy
	}
}

